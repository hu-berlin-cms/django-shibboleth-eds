function IdPSelectLanguages(){this.langBundles={en:{"fatal.divMissing":'<div> specified  as "insertAtDiv" could not be located in the HTML',"fatal.noXMLHttpRequest":"Browser does not support XMLHttpRequest, unable to load IdP selection data","fatal.wrongProtocol":'Policy supplied to DS was not "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId supplied by SP did not match configuration","fatal.noData":"Metadata download returned no data","fatal.loadFailed":"Failed to download metadata from ","fatal.noparms":"No parameters to discovery session and no defaultReturn parameter configured","fatal.noReturnURL":"No URL return parameter provided","fatal.badProtocol":"Return request must start with https:// or http://","idpPreferred.label":"Use a suggested selection:","idpEntry.label":"Or enter your organization's name","idpEntry.NoPreferred.label":"Enter your organization's name","idpList.label":"Or select your organization from the list below","idpList.NoPreferred.label":"Select your organization from the list below","idpList.defaultOptionLabel":"Please select your organization...","idpList.showList":"Allow me to pick from a list","idpList.showSearch":"Allow me to specify the site","submitButton.label":"Continue",helpText:"Help",defaultLogoAlt:"DefaultLogo","autoFollow.message":"Always follows this selection","autoFollow.never":"Never","autoFollow.time0":"One day","autoFollow.time1":"3 months","autoFollow.time2":"9 months"},de:{"fatal.divMissing":"Das notwendige Div Element fehlt","fatal.noXMLHttpRequest":"Ihr Webbrowser unterst\u00fctzt keine XMLHttpRequests, IdP-Auswahl kann nicht geladen werden","fatal.wrongProtocol":'DS bekam eine andere Policy als "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"Die entityId ist nicht korrekt","fatal.loadFailed":"Metadaten konnten nicht heruntergeladen werden: ","fatal.noparms":"Parameter f\u00fcr das Discovery Service oder 'defaultReturn' fehlen","fatal.noReturnURL":"URL return Parameter fehlt","fatal.badProtocol":"return-Request muss mit https:// oder http:// beginnen","idpPreferred.label":"Nutzen Sie eine bevorzugte Institution:","idpEntry.label":"Oder geben Sie den Namen (oder Teile davon) Ihrer Institution an:","idpEntry.NoPreferred.label":"Namen (oder Teile davon) der Institution angeben:","idpList.label":"Oder w\u00e4hlen Sie Ihre Institution aus einer Liste:","idpList.NoPreferred.label":"Institution aus folgender Liste w\u00e4hlen:","idpList.defaultOptionLabel":"W\u00e4hlen Sie Ihre Institution aus...","idpList.showList":"Institution aus einer Liste w\u00e4hlen","idpList.showSearch":"Institution selbst eingeben","submitButton.label":"OK",helpText:"Hilfe",defaultLogoAlt:"Standardlogo","autoFollow.message":"Diese Auswahl automatisch benutzen","autoFollow.never":"Nie","autoFollow.time0":"Einen Tag","autoFollow.time1":"3 Monate","autoFollow.time2":"9 Monate"},ja:{"fatal.divMissing":'"insertAtDiv" の ID を持つ <div> が HTML 中に存在しません',"fatal.noXMLHttpRequest":"ブラウザが XMLHttpRequest をサポートしていないので IdP 情報を取得できません","fatal.wrongProtocol":'DSへ渡された Policy パラメータが "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single" ではありません',"fatal.wrongEntityId":"SP から渡された entityId が設定値と異なります","fatal.noData":"メタデータが空です","fatal.loadFailed":"次の URL からメタデータをダウンロードできませんでした: ","fatal.noparms":"DSにパラメータが渡されておらず defaultReturn も設定されていません","fatal.noReturnURL":"戻り URL が指定されていません","fatal.badProtocol":"戻り URL は https:// か http:// で始まらなければなりません","idpPreferred.label":"選択候補の IdP:","idpEntry.label":"もしくはあなたの所属機関名を入力してください","idpEntry.NoPreferred.label":"あなたの所属機関名を入力してください","idpList.label":"もしくはあなたの所属機関を選択してください","idpList.NoPreferred.label":"あなたの所属機関を一覧から選択してください","idpList.defaultOptionLabel":"所属機関を選択してください...","idpList.showList":"一覧から選択する","idpList.showSearch":"機関名を入力する","submitButton.label":"選択","autoFollow.message":"次の期間選択した機関に自動的に遷移する:","autoFollow.never":"自動遷移しない","autoFollow.time0":"1日","autoFollow.time1":"3か月","autoFollow.time2":"9か月",helpText:"Help",defaultLogoAlt:"DefaultLogo"},"pt-br":{"fatal.divMissing":'A tag <div> com "insertAtDiv" não foi encontrada no arquivo HTML',"fatal.noXMLHttpRequest":'Seu navegador não suporta "XMLHttpRequest", impossível de carregador os dados do IdP selecionado',"fatal.wrongProtocol":'A política "Policy" fornecida para o DS não foi "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId oferecido pelo SP não confere com o da configuração","fatal.noData":"O arquivo de metadados não retornou nada;","fatal.loadFailed":"Falhou ao realizar download do metadado de ","fatal.noparms":'Sem parâmetros para sessão de descoberta e sem parâmetro "defaultReturn" configurado',"fatal.noReturnURL":"Não foi definida um endereço (URL) de retorno no parâmetro","fatal.badProtocol":"Retorno do endereço requisitado deve começar com https:// ou http://","idpPreferred.label":"Use estas Instituições sugeridas: ","idpEntry.label":"Ou informe o nome da sua Instituição","idpEntry.NoPreferred.label":"Informe o nome da sua Instituição","idpList.label":"Ou selecione sua Instituição através da lista abaixo","idpList.NoPreferred.label":"Selecione sua Instituição através da lista abaixo","idpList.defaultOptionLabel":"Por favor, selecione sua Instituição: ","idpList.showList":"Permitir que eu escolha um IdP através de uma lista","idpList.showSearch":"Permitir que eu especifique o IdP","submitButton.label":"Continuar ",helpText:"Ajuda",defaultLogoAlt:"Logo padrão"}}}function TypeAheadControl(l,f,j,g,i,b,h,e,a,c,d,k){this.elementList=l;this.textBox=f;this.origin=j;this.submit=g;this.results=0;this.alwaysShow=c;this.maxResults=d;this.ie6hack=a;this.maxchars=i;this.getName=b;this.getEntityId=h;this.geticon=e;this.getKeywords=k}TypeAheadControl.prototype.draw=function(b){var a=this;this.dropDown=document.createElement("ul");this.dropDown.className="IdPSelectDropDown";this.dropDown.style.visibility="hidden";this.dropDown.style.width=this.textBox.offsetWidth;this.dropDown.current=-1;this.textBox.setAttribute("role","listbox");document.body.appendChild(this.dropDown);this.textBox.setAttribute("role","combobox");this.textBox.setAttribute("aria-controls","IdPSelectDropDown");this.textBox.setAttribute("aria-owns","IdPSelectDropDown");this.dropDown.onmouseover=function(c){if(!c){c=window.event}var d;if(c.target){d=c.target}if(typeof d=="undefined"){d=c.srcElement}a.select(d)};this.dropDown.onmousedown=function(c){if(-1!=a.dropDown.current){a.textBox.value=a.results[a.dropDown.current][0]}};this.textBox.onkeyup=function(c){if(!c){c=window.event}a.handleKeyUp(c)};this.textBox.onkeydown=function(c){if(!c){c=window.event}a.handleKeyDown(c)};this.textBox.onblur=function(){a.hideDrop()};this.textBox.onfocus=function(){a.handleChange()};if(null==b||b){this.textBox.focus()}};TypeAheadControl.prototype.getPossible=function(b){var h=[];var j=0;var f=0;var e=0;var g;var i;b=b.toLowerCase();while(f<=this.maxResults&&j<this.elementList.length){var a=false;var c=this.getName(this.elementList[j]);if(c.toLowerCase().indexOf(b)!=-1){a=true}if(!a&&this.getEntityId(this.elementList[j]).toLowerCase().indexOf(b)!=-1){a=true}if(!a){var d=this.getKeywords(this.elementList[j]);if(null!=d&&d.toLowerCase().indexOf(b)!=-1){a=true}}if(a){h[f]=[c,this.getEntityId(this.elementList[j]),this.geticon(this.elementList[j])];f++}j++}this.dropDown.current=-1;return h};TypeAheadControl.prototype.handleKeyUp=function(b){var a=b.keyCode;if(27==a){this.textBox.value="";this.handleChange()}else{if(8==a||32==a||(a>=46&&a<112)||a>123){this.handleChange()}}};TypeAheadControl.prototype.handleKeyDown=function(b){var a=b.keyCode;if(38==a){this.upSelect()}else{if(40==a){this.downSelect()}}};TypeAheadControl.prototype.hideDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="visible";a++}}this.dropDown.style.visibility="hidden";this.textBox.setAttribute("aria-expanded","false");if(-1==this.dropDown.current){this.doUnselected()}};TypeAheadControl.prototype.showDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="hidden";a++}}this.dropDown.style.visibility="visible";this.dropDown.style.width=this.textBox.offsetWidth+"px";this.textBox.setAttribute("aria-expanded","true")};TypeAheadControl.prototype.doSelected=function(){this.submit.disabled=false};TypeAheadControl.prototype.doUnselected=function(){this.submit.disabled=true;this.textBox.setAttribute("aria-activedescendant","")};TypeAheadControl.prototype.handleChange=function(){var b=this.textBox.value;var a=this.getPossible(b);if(0===b.length||0===a.length||(!this.alwaysShow&&this.maxResults<a.length)){this.hideDrop();this.doUnselected();this.results=[];this.dropDown.current=-1}else{this.results=a;this.populateDropDown(a);if(1==a.length){this.select(this.dropDown.childNodes[0]);this.doSelected()}else{this.doUnselected()}}};TypeAheadControl.prototype.populateDropDown=function(d){this.dropDown.innerHTML="";var c=0;var a;var b;var f;while(c<d.length){a=document.createElement("li");a.id="IdPSelectOption"+c;f=d[c][0];if(null!==d[c][2]){b=document.createElement("img");b.src=d[c][2];b.width=16;b.height=16;b.alt="";a.appendChild(b);if(f.length>this.maxchars-2){f=f.substring(0,this.maxchars-2)}f=" "+f}else{if(f.length>this.maxchars){f=f.substring(0,this.maxchars)}}a.appendChild(document.createTextNode(f));a.setAttribute("role","option");this.dropDown.appendChild(a);c++}var e=this.getXY();this.dropDown.style.left=e[0]+"px";this.dropDown.style.top=e[1]+"px";this.showDrop()};TypeAheadControl.prototype.getXY=function(){var a=this.textBox;var c=0;var b=a.offsetHeight;while(a.tagName!="BODY"){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}c+=a.offsetLeft;b+=a.offsetTop;return[c,b]};TypeAheadControl.prototype.select=function(b){var a=0;var c;this.dropDown.current=-1;this.doUnselected();while(a<this.dropDown.childNodes.length){c=this.dropDown.childNodes[a];if(c==b){c.className="IdPSelectCurrent";c.setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+a);this.doSelected();this.dropDown.current=a;this.origin.value=this.results[a][1];this.origin.textValue=this.results[a][0]}else{c.setAttribute("aria-selected","false");c.className=""}a++}this.textBox.focus()};TypeAheadControl.prototype.downSelect=function(){if(this.results.length>0){if(-1==this.dropDown.current){this.dropDown.current=0;this.dropDown.childNodes[0].className="IdPSelectCurrent";this.dropDown.childNodes[0].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+0);this.doSelected();this.origin.value=this.results[0][1];this.origin.textValue=this.results[0][0]}else{if(this.dropDown.current<(this.results.length-1)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current++;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}}}};TypeAheadControl.prototype.upSelect=function(){if((this.results.length>0)&&(this.dropDown.current>0)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current--;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}};function IdPSelectUI(){var p;var U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var aG;var Q;var ay;var ak;var Y;var d;var D;var m;var w;var j;var at;var f;var r;var Z;var ae;var B;var ad;var P;var g;var I;var aq;var L;var R;var ai;var au;var an;var c;var ac;var E;var O;var X;var N;var S;var i;var aw;var T;var aI="idpSelect";var ag="IdPSelect";var ao;var z="";var W="";var ax=[];var aD="entityID";this.draw=function(aM){if(!l(aM)){return}if((null!=O)&&(null!=h(O))){var aJ=b();if(aJ.length!=0){var aL=aD+"="+encodeURIComponent(aJ[0]);if(z.indexOf("?")==-1){aL="?"+aL}else{aL="&"+aL}location.href=z+aL;return}}aG=document.getElementById(aM.insertAtDiv);if(!aG){M(y("fatal.divMissing"));return}if(!e(aM.dataSource)){return}aH();s(aM.hiddenIdPs);p.sort(function(aO,aN){return aB(aO).localeCompare(aB(aN))});var aK=aa();aG.appendChild(aK);ao.draw(aM.setFocusTextBox)};var l=function(aJ){var aU;B=aJ.preferredIdP;ad=aJ.maxPreferredIdPs;P=aJ.helpURL;g=aJ.ie6Hack;I=aJ.samlIdPCookieTTL;ai=aJ.alwaysShow;au=aJ.maxResults;an=aJ.ignoreKeywords;if(aJ.showListFirst){c=aJ.showListFirst}else{c=false}if(aJ.noWriteCookie){ac=aJ.noWriteCookie}else{ac=false}if(aJ.ignoreURLParams){E=aJ.ignoreURLParams}else{E=false}D=aJ.defaultLogo;m=aJ.defaultLogoWidth;w=aJ.defaultLogoHeight;j=aJ.minWidth;at=aJ.minHeight;f=aJ.maxWidth;r=aJ.maxHeight;Z=aJ.bestRatio;if(null==aJ.doNotCollapse){ae=true}else{ae=aJ.doNotCollapse}L=aJ.maxIdPCharsButton;aq=aJ.maxIdPCharsDropDown;R=aJ.maxIdPCharsAltTxt;O=aJ.autoFollowCookie;X=aJ.autoFollowCookieTTLs;var aK;if(typeof navigator=="undefined"){aK=aJ.defaultLanguage}else{aK=navigator.language||navigator.userLanguage||aJ.defaultLanguage}aK=aK.toLowerCase();if(aK.indexOf("-")>0){ay=aK.substring(0,aK.indexOf("-"))}var aV=new IdPSelectLanguages();ak=aJ.defaultLanguage;if(typeof aJ.langBundles!="undefined"&&typeof aJ.langBundles[aK]!="undefined"){Y=aJ.langBundles[aK]}else{if(typeof aV.langBundles[aK]!="undefined"){Y=aV.langBundles[aK]}else{if(typeof ay!="undefined"){if(typeof aJ.langBundles!="undefined"&&typeof aJ.langBundles[ay]!="undefined"){Y=aJ.langBundles[ay]}else{if(typeof aV.langBundles[ay]!="undefined"){Y=aV.langBundles[ay]}}}}}if(typeof aJ.langBundles!="undefined"&&typeof aJ.langBundles[aJ.defaultLanguage]!="undefined"){d=aJ.langBundles[aJ.defaultLanguage]}else{d=aV.langBundles[aJ.defaultLanguage]}if(!d){M("No languages work");return false}if(!Y){q("No language support for "+aK);Y=d}if(aJ.testGUI){return true}var aQ="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single";var aM;var aL=false;var aS;var aR;var aO=window;while(null!==aO.parent&&aO!==aO.parent){aO=aO.parent}var aN=aO.location;var aP=aN.search;if(E||null==aP||0==aP.length||aP.charAt(0)!="?"){if((null==aJ.defaultReturn)&&!E){M(y("fatal.noparms"));return false}aU=aJ.myEntityID;z=aJ.defaultReturn;if(null!=aJ.defaultReturnIDParam){aD=aJ.defaultReturnIDParam}}else{aP=aP.substring(1);aS=aP.split("&");if(aS.length===0){M(y("fatal.noparms"));return false}for(aM=0;aM<aS.length;aM++){aR=aS[aM].split("=");if(aR.length!=2){continue}if(aR[0]=="entityID"){aU=decodeURIComponent(aR[1])}else{if(aR[0]=="return"){z=decodeURIComponent(aR[1])}else{if(aR[0]=="returnIDParam"){aD=decodeURIComponent(aR[1])}else{if(aR[0]=="policy"){aQ=decodeURIComponent(aR[1])}else{if(aR[0]=="isPassive"){aL=(aR[1].toUpperCase()=="TRUE")}}}}}}}if(aQ!="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"){M(y("fatal.wrongProtocol"));return false}if(aJ.myEntityID!==null&&aJ.myEntityID!=aU){M(y("fatal.wrongEntityId")+'"'+aU+'" != "'+aJ.myEntityID+'"');return false}if(null===z||z.length===0){M(y("fatal.noReturnURL"));return false}if(!al(z)){M(y("fatal.badProtocol"));return false}if(aL){var aW=b();if(aW.length==0){location.href=z;return false}else{var aT=aD+"="+encodeURIComponent(aW[0]);if(z.indexOf("?")==-1){aT="?"+aT}else{aT="&"+aT}location.href=z+aT;return false}}aM=z.indexOf("?");if(aM<0){W=z;return true}W=z.substring(0,aM);aP=z.substring(aM+1);aS=aP.split("&");for(aM=0;aM<aS.length;aM++){aR=aS[aM].split("=");if(aR.length!=2){continue}aR[1]=decodeURIComponent(aR[1]);ax.push(aR)}return true};var aH=function(){var aL=[];var aK;for(aK=0;aK<p.length;){var aJ=x(p[aK]);if(null==aL[aJ]){aL[aJ]=aJ;aK=aK+1}else{p.splice(aK,1)}}};var s=function(aL){if(null==aL||0==aL.length){return}var aK;var aJ;for(aK=0;aK<aL.length;aK++){for(aJ=0;aJ<p.length;aJ++){if(x(p[aJ])==aL[aK]){p.splice(aJ,1);break}}}};var al=function(aK){if(null===aK){return false}var aJ="://";var aL=aK.indexOf(aJ);if(aL<0){return false}aK=aK.substring(0,aL);if(aK=="http"||aK=="https"){return true}return false};var aF=function(){if(null==navigator){return false}var aJ=navigator.appName;if(null==aJ){return false}return(aJ=="Microsoft Internet Explorer")};var e=function(aM){var aL=null;try{aL=new XMLHttpRequest()}catch(aK){}if(null==aL){try{aL=new ActiveXObject("Microsoft.XMLHTTP")}catch(aK){}}if(null==aL){try{aL=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(aK){}}if(null==aL){M(y("fatal.noXMLHttpRequest"));return false}if(aF()){aM+="?random="+(Math.random()*1000000)}aL.open("GET",aM,false);if(typeof aL.overrideMimeType=="function"){aL.overrideMimeType("application/json")}aL.send(null);if(aL.status==200){var aJ=aL.responseText;if(aJ===null){M(y("fatal.noData"));return false}p=JSON.parse(aJ)}else{M(y("fatal.loadFailed")+aM);return false}return true};var ab=function(aJ){for(var aK=0;aK<p.length;aK++){if(x(p[aK])==aJ){return p[aK]}}return null};var F=function(aQ,aK){var aP=function(aT){var aR=null;var aS;if(null==aQ.Logos){return null}for(aS in aQ.Logos){if(aQ.Logos[aS].lang==aT&&aQ.Logos[aS].width!=null&&aQ.Logos[aS].width>=j&&aQ.Logos[aS].height!=null&&aQ.Logos[aS].height>=at){if(aR===null){aR=aQ.Logos[aS]}else{me=Math.abs(Z-Math.log(aQ.Logos[aS].width/aQ.Logos[aS].height));him=Math.abs(Z-Math.log(aR.width/aR.height));if(him>me){aR=aQ.Logos[aS]}}}}return aR};var aM=null;var aL=document.createElement("img");aj(aL,"IdPImg");aM=aP(Q);if(null===aM&&typeof ay!="undefined"){aM=aP(ay)}if(null===aM){aM=aP(null)}if(null===aM){aM=aP(ak)}if(null===aM){if(!aK){return null}aL.src=D;aL.width=m;aL.height=w;aL.alt=y("defaultLogoAlt");return aL}aL.src=aM.value;var aN=aB(aQ);if(aN.length>R){aN=aN.substring(0,R)+"..."}aL.alt=aN;var aJ=aM.width;var aO=aM.height;if(aJ>f){aO=(f/aJ)*aO;aJ=f}if(aO>r){aJ=(r/aO)*aJ;aO=r}aL.setAttribute("width",aJ);aL.setAttribute("height",aO);return aL};var aa=function(){var aK=am("IdPSelector");var aJ;aJ=az(aK);n(aK,aJ);V(aK,aJ);if(null!=O){A(aK)}return aK};var K=function(aL,aS,aK){var aJ=am(undefined,"PreferredIdPButton");var aR=document.createElement("a");var aQ=aD+"="+encodeURIComponent(x(aL));var aM=z;var aO=F(aL,aK);if(aM.indexOf("?")==-1){aQ="?"+aQ}else{aQ="&"+aQ}aR.href=aM+aQ;aR.onclick=function(){aE(x(aL))};if(null!=aO){var aT=am(undefined,"PreferredIdPImg");aT.appendChild(aO);aR.appendChild(aT)}var aP=am(undefined,"TextDiv");var aN=aB(aL);if(aN.length>L){aN=aN.substring(0,L)+"..."}aJ.title=aN;aP.appendChild(document.createTextNode(aN));aR.appendChild(aP);aJ.appendChild(aR);return aJ};var aC=function(aJ,aM){var aL=am(undefined,"TextDiv");var aK=document.createTextNode(y(aM));aL.appendChild(aK);aJ.appendChild(aL)};var a=function(aJ,aL){if(null===aL||0===aL.length||"-"==aL.value){return}var aK=0;while(aK<aJ.options.length){if(aJ.options[aK].value==aL){aJ.options[aK].selected=true;break}aK++}};var az=function(aO){var aN=J();if(0===aN.length){return false}var aJ=ae;for(var aL=0;aL<ad&&aL<aN.length;aL++){if(aN[aL]&&F(aN[aL],false)){aJ=true}}var aM;if(aJ){aM=am("PreferredIdPTile")}else{aM=am("PreferredIdPTileNoImg")}aC(aM,"idpPreferred.label");for(var aL=0;aL<ad&&aL<aN.length;aL++){if(aN[aL]){var aK=K(aN[aL],aL,aJ);aM.appendChild(aK)}}aO.appendChild(aM);return true};var af=function(){var aK=document.createElement("form");S.appendChild(aK);aK.action=W;aK.method="GET";aK.setAttribute("autocomplete","OFF");var aJ=0;for(aJ=0;aJ<ax.length;aJ++){var aL=document.createElement("input");aL.setAttribute("type","hidden");aL.name=ax[aJ][0];aL.value=ax[aJ][1];aK.appendChild(aL)}return aK};var n=function(aQ,aK){S=am("IdPEntryTile");if(c){S.style.display="none"}var aL=document.createElement("label");aL.setAttribute("for",aI+"Input");if(aK){aC(aL,"idpEntry.label")}else{aC(aL,"idpEntry.NoPreferred.label")}var aO=af();aO.appendChild(aL);var aN=document.createElement("input");aO.appendChild(aN);aN.type="text";k(aN,"Input");var aP=document.createElement("input");aP.setAttribute("type","hidden");aO.appendChild(aP);aP.name=aD;aP.value="-";var aM=t("Select");aM.disabled=true;aO.appendChild(aM);aO.onsubmit=function(){if(null===aP.value||0===aP.value.length||"-"==aP.value){return false}aN.value=aP.textValue;aE(aP.value);return true};ao=new TypeAheadControl(p,aN,aP,aM,aq,aB,x,ah,g,ai,au,G);var aJ=document.createElement("a");aJ.appendChild(document.createTextNode(y("idpList.showList")));aJ.href="#";aj(aJ,"DropDownToggle");aJ.onclick=function(){S.style.display="none";a(aw,aP.value);i.style.display="";T.focus();return false};S.appendChild(aJ);v(S);aQ.appendChild(S)};var V=function(aJ,aM){i=am("IdPListTile");if(!c){i.style.display="none"}var aQ=document.createElement("label");aQ.setAttribute("for",aI+"Selector");if(aM){aC(aQ,"idpList.label")}else{aC(aQ,"idpList.NoPreferred.label")}aw=document.createElement("select");k(aw,"Selector");aw.name=aD;i.appendChild(aw);var aR=o("-",y("idpList.defaultOptionLabel"));aR.selected=true;aw.appendChild(aR);var aL;for(var aN=0;aN<p.length;aN++){aL=p[aN];aR=o(x(aL),aB(aL));aw.appendChild(aR)}var aK=af();aK.appendChild(aQ);aK.appendChild(aw);aK.onsubmit=function(){if(aw.selectedIndex<1){return false}aE(aw.options[aw.selectedIndex].value);return true};var aO=t("List");T=aO;aK.appendChild(aO);i.appendChild(aK);var aP=document.createElement("a");aP.appendChild(document.createTextNode(y("idpList.showSearch")));aP.href="#";aj(aP,"DropDownToggle");aP.onclick=function(){S.style.display="";i.style.display="none";return false};i.appendChild(aP);v(i);aJ.appendChild(i)};var A=function(aM){var aK="IdPSelectAutoDisp";autoDispatchTile=am(undefined,"autoDispatchArea");autoDispatchTile.appendChild(document.createTextNode(y("autoFollow.message")));var aJ=document.createElement("input");aJ.setAttribute("type","radio");aJ.setAttribute("checked","checked");aJ.setAttribute("name",aK);aJ.onclick=function(){C(0)};div=am(undefined,"autoDispatchTile");div.appendChild(aJ);div.appendChild(document.createTextNode(y("autoFollow.never")));autoDispatchTile.appendChild(div);var aL;for(aL=0;aL<X.length;aL++){aJ=document.createElement("input");aJ.setAttribute("type","radio");aJ.setAttribute("name",aK);aJ.life=X[aL];aJ.onclick=function(){var aN=this.life;C(aN)};div=am(undefined,"autoDispatchTile");div.appendChild(aJ);div.appendChild(document.createTextNode(y("autoFollow.time"+aL)));autoDispatchTile.appendChild(div)}aM.appendChild(autoDispatchTile)};var t=function(aK){var aJ=document.createElement("input");aJ.setAttribute("type","submit");aJ.value=y("submitButton.label");k(aJ,aK+"Button");return aJ};var v=function(aK){var aJ=document.createElement("a");aJ.href=P;aJ.appendChild(document.createTextNode(y("helpText")));aj(aJ,"HelpButton");aK.appendChild(aJ)};var am=function(aL,aJ){var aK=document.createElement("div");if(undefined!==aL){k(aK,aL)}if(undefined!==aJ){aj(aK,aJ)}return aK};var o=function(aK,aL){var aJ=document.createElement("option");aJ.value=aK;if(aL.length>aq){aL=aL.substring(0,aq)}aJ.appendChild(document.createTextNode(aL));return aJ};var k=function(aK,aJ){aK.id=aI+aJ};var aj=function(aK,aJ){aK.setAttribute("class",ag+aJ)};var aA=function(aJ){return document.getElementById(aI+aJ)};var aE=function(aJ){H(aJ);ap(N)};var y=function(aJ){var aK=Y[aJ];if(!aK){aK=d[aJ]}if(!aK){aK="Missing message for "+aJ}return aK};var x=function(aJ){return aJ.entityID};var ah=function(aL){var aJ;if(null==aL.Logos){return null}for(aJ=0;aJ<aL.Logos.length;aJ++){var aK=aL.Logos[aJ];if(aK.height=="16"&&aK.width=="16"){if(null==aK.lang||Q==aK.lang||(typeof ay!="undefined"&&ay==aK.lang)||ak==aK.lang){return aK.value}}}return null};var aB=function(aK){var aJ=av(aK.DisplayNames);if(null!==aJ){return aJ}q("No Name entry in any language for "+x(aK));return x(aK)};var G=function(aK){if(an||null==aK.Keywords){return null}var aJ=av(aK.Keywords);return aJ};var av=function(aJ){var aK;for(aK in aJ){if(aJ[aK].lang==Q){return aJ[aK].value}}if(typeof ay!="undefined"){for(aK in aJ){if(aJ[aK].lang==ay){return aJ[aK].value}}}for(aK in aJ){if(aJ[aK].lang==null){return aJ[aK].value}}for(aK in aJ){if(aJ[aK].lang==ak){return aJ[aK].value}}return null};var J=function(){var aN=[];var aM=0;var aL;var aK;if(null!=B){for(aL=0;aL<B.length&&aL<ad;aL++){aN[aL]=ab(B[aL]);aM++}}N=b();for(aL=aM,aK=0;aK<N.length&&aL<ad;aK++){var aJ=ab(N[aK]);if(aN.indexOf(aJ)===-1){aN.push(aJ);aL++}}return aN};var H=function(aJ){var aK=[];while(0!==N.length){var aL=N.pop();if(aL!=aJ){aK.unshift(aL)}}aK.unshift(aJ);N=aK;return};var C=function(aL){var aJ;if(aL>0){var aK=new Date();cookieTTL=aL*24*60*60*1000;aJ=new Date(aK.getTime()+cookieTTL)}else{aJ=new Date(0)}document.cookie=O+"=1;path=/;expires="+aJ.toUTCString()};var h=function(aL){var aN,aK;var aO;aO=document.cookie.split(";");for(aN=0;aN<aO.length;aN++){var aM=aO[aN];var aJ=aM.indexOf("=");var aP=aM.substring(0,aJ);if(aL==(aP.replace(/^\s+|\s+$/g,""))){return aM.substring(aJ+1)}}return null};var b=function(){var aJ=[];var aK;var aL=h("_saml_idp");if(aL!=null){aL=aL.replace(/^\s+|\s+$/g,"");aL=aL.replace("+","%20");aL=aL.split("%20");for(aK=aL.length;aK>0;aK--){if(0===aL[aK-1].length){continue}var aM=ar(decodeURIComponent(aL[aK-1]));if(aM.length>0){aJ.push(aM)}}}return aJ};var ap=function(aO){var aL=[];var aN=aO.length;if(ac){return}if(aN>5){aN=5}for(var aM=aN;aM>0;aM--){if(aO[aM-1].length>0){aL.push(encodeURIComponent(u(aO[aM-1])))}}var aJ=null;if(I){var aK=new Date();cookieTTL=I*24*60*60*1000;aJ=new Date(aK.getTime()+cookieTTL)}document.cookie="_saml_idp="+aL.join("%20")+"; path = /"+((aJ===null)?"":"; expires="+aJ.toUTCString())};var u=function(aS){var aJ="",aN,aL,aK,aR,aQ,aP,aO;for(var aM=0;aM<aS.length;){aN=aS.charCodeAt(aM++);aL=aS.charCodeAt(aM++);aK=aS.charCodeAt(aM++);aR=aN>>2;aQ=((aN&3)<<4)+(aL>>4);aP=((aL&15)<<2)+(aK>>6);aO=aK&63;if(isNaN(aL)){aP=aO=64}else{if(isNaN(aK)){aO=64}}aJ+=U.charAt(aR)+U.charAt(aQ)+U.charAt(aP)+U.charAt(aO)}return aJ};var ar=function(aM){var aK="",aT,aR,aP,aS,aQ,aO,aN;var aL=0;var aJ=/[^A-Za-z0-9\+\/\=]/g;aM=aM.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{aS=U.indexOf(aM.charAt(aL++));aQ=U.indexOf(aM.charAt(aL++));aO=U.indexOf(aM.charAt(aL++));aN=U.indexOf(aM.charAt(aL++));aT=(aS<<2)|(aQ>>4);aR=((aQ&15)<<4)|(aO>>2);aP=((aO&3)<<6)|aN;aK=aK+String.fromCharCode(aT);if(aO!=64){aK=aK+String.fromCharCode(aR)}if(aN!=64){aK=aK+String.fromCharCode(aP)}aT=aR=aP="";aS=aQ=aO=aN=""}while(aL<aM.length);return aK};var M=function(aK){alert("FATAL - DISCO UI:"+aK);var aJ=document.createTextNode(aK);aG.appendChild(aJ)};var q=function(){}}(new IdPSelectUI()).draw(new IdPSelectUIParms());